# HTTP服务器功能

ltrack现在支持内置的HTTP服务器，可以通过Web界面查看各种监控器的日志信息。

## 配置

在`policy.toml`配置文件中添加以下配置项：

```toml
# HTTP服务器配置
[http_server]
enabled = true  # 是否启用HTTP服务器
port = 8088     # HTTP服务器监听端口
host = "0.0.0.0" # HTTP服务器监听地址，0.0.0.0表示监听所有网络接口
```

## 功能

HTTP服务器提供以下功能：

1. **首页（`/`）**：
   - 显示所有可用的日志类型列表
   - 点击对应类型可以查看该类型的日志详情

2. **日志详情页（`/logs?type={日志类型}`）**：
   - 显示特定类型的日志记录
   - 自动刷新功能，可实时查看最新日志
   - 在顶部可以快速切换不同类型的日志

3. **API接口（`/api/logs?type={日志类型}`）**：
   - 返回JSON格式的日志数据
   - 可用于自定义集成或前端开发

## 日志类型

当前支持的日志类型包括：

- **network**：网络监控日志，显示网络流量和连接信息
- **file**：文件监控日志，显示文件变化和访问信息
- **exec**：进程执行监控日志，显示命令执行信息

## 使用示例

1. 启动ltrack：
   ```bash
   ./bin/ltrack -c policy.toml
   ```

2. 打开浏览器访问：
   ```
   http://服务器地址:8088/
   ```

3. 选择要查看的日志类型，例如：
   ```
   http://服务器地址:8088/logs?type=network
   ```

## 注意事项

- HTTP服务器会保存最近1000条每种类型的日志，这些日志存储在内存中
- 程序重启后，HTTP服务器的日志记录会清空
- 为了安全起见，在生产环境中应该考虑设置防火墙规则，限制HTTP服务器的访问 